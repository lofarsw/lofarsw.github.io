<!doctype html>
<html class="no-js" lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Data analysis</title>

    <link rel="stylesheet" type="text/css" href="https://lofarsw.github.io/assets/css/styles_feeling_responsive.css">

  

	<script src="https://lofarsw.github.io/assets/js/modernizr.min.js"></script>

	<script src="https://ajax.googleapis.com/ajax/libs/webfont/1.5.18/webfont.js"></script>
	<script>
		WebFont.load({
			google: {
				families: [ 'Lato:400,700,400italic:latin', 'Volkhov::latin' ]
			}
		});
	</script>

	<noscript>
		<link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic%7CVolkhov' rel='stylesheet' type='text/css'>
	</noscript>


	<!-- Search Engine Optimization -->
	<meta name="description" content="From LOFAR dataset to science ready figure">
	
	
	
	
	
	
	<link rel="canonical" href="https://lofarsw.github.io/data/">


	<!-- Facebook Open Graph -->
	<meta property="og:title" content="Data analysis">
	<meta property="og:description" content="From LOFAR dataset to science ready figure">
	<meta property="og:url" content="https://lofarsw.github.io/data/">
	<meta property="og:locale" content="en_EN">
	<meta property="og:type" content="website">
	<meta property="og:site_name" content="LOFAR Solar and Space Weather KSP">
	
	


	

	<link type="text/plain" rel="author" href="https://lofarsw.github.io/humans.txt">

	

	

	<link rel="icon" sizes="32x32" href="https://lofarsw.github.io/assets/img/favicon-32x32.png">

	<link rel="icon" sizes="192x192" href="https://lofarsw.github.io/assets/img/touch-icon-192x192.png">

	<link rel="apple-touch-icon-precomposed" sizes="180x180" href="https://lofarsw.github.io/assets/img/apple-touch-icon-180x180.png">

	<link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://lofarsw.github.io/assets/img/apple-touch-icon-152x152.png">

	<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://lofarsw.github.io/assets/img/apple-touch-icon-144x144.png">

	<link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://lofarsw.github.io/assets/img/apple-touch-icon-120x120.png">

	<link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://lofarsw.github.io/assets/img/apple-touch-icon-114x114.png">

	
	<link rel="apple-touch-icon-precomposed" sizes="76x76" href="https://lofarsw.github.io/assets/img/apple-touch-icon-76x76.png">

	<link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://lofarsw.github.io/assets/img/apple-touch-icon-72x72.png">

	<link rel="apple-touch-icon-precomposed" href="https://lofarsw.github.io/assets/img/apple-touch-icon.png">	

	<meta name="msapplication-TileImage" content="https://lofarsw.github.io/assets/img/mstile-144x144.png">

	<meta name="msapplication-TileColor" content="#ffffff">


	

</head>
<body id="top-of-page" class="post">
	
	
<div id="navigation" class="sticky">
  <nav class="top-bar" role="navigation" data-topbar>
    <ul class="title-area">
      <li class="name">
      <h1 class="show-for-small-only"><a href="https://lofarsw.github.io" class="icon-tree"> LOFAR Solar and Space Weather KSP</a></h1>
    </li>
       <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone -->
      <li class="toggle-topbar menu-icon"><a href="#"><span>Nav</span></a></li>
    </ul>
    <section class="top-bar-section">

      <ul class="right">
        

              



          
          
        

              



          
          
        

              



          
          
        

              



          
          
        

              



          
          
        

              



          
          
        

              



          
          
            
            
              <li class="divider"></li>
              <li><a  href="https://lofarsw.github.io/search/">Search</a></li>

            
            
          
        

              



          
          
            
            
              <li class="divider"></li>
              <li><a  href="https://lofarsw.github.io/contact/">Contact</a></li>

            
            
          
        
        
      </ul>

      <ul class="left">
        

              

          
          

            
            
              <li><a  href="https://lofarsw.github.io/">Home</a></li>
              <li class="divider"></li>

            
            
          
        

              

          
          

            
            
              <li><a  href="https://lofarsw.github.io/science/">Science</a></li>
              <li class="divider"></li>

            
            
          
        

              

          
          

            
            

              <li class="has-dropdown">
                <a  href="https://lofarsw.github.io/obsmi/">Observation</a>

                  <ul class="dropdown">
                    

                      

                      <li><a  href="https://lofarsw.github.io/obsca/">Current Observing Campaign</a></li>
                    
                  </ul>

              </li>
              <li class="divider"></li>
            
          
        

              

          
          

            
            
              <li><a  href="https://lofarsw.github.io/pub/">Publication</a></li>
              <li class="divider"></li>

            
            
          
        

              

          
          

            
            
              <li class="active"><a  href="https://lofarsw.github.io/data/">Data Analysis</a></li>
              <li class="divider"></li>

            
            
          
        

              

          
          

            
            
              <li><a  href="https://lofarsw.github.io/team/">Team</a></li>
              <li class="divider"></li>

            
            
          
        

              

          
          
        

              

          
          
        
        
      </ul>
    </section>
  </nav>
</div><!-- /#navigation -->

	

	

<div id="masthead">
	<div class="row">
		<div class="small-12 columns">
			<a id="logo" href="https://lofarsw.github.io/" title="LOFAR Solar and Space Weather KSP – Make the Radio Observation for the Sun Happen">
				<img src="https://lofarsw.github.io/assets/img/logo.png" alt="LOFAR Solar and Space Weather KSP – Make the Radio Observation for the Sun Happen">
			</a>
		</div><!-- /.small-12.columns -->
	</div><!-- /.row -->
</div><!-- /#masthead -->










	<div class="row t30">
	<div class="medium-8 columns medium-offset-2 end">
		<article itemscope itemtype="http://schema.org/Article">
			<header>
				

				<div itemprop="name">
					<p class="subheadline"> </p>
					<h1>Data analysis</h1>
				</div>
			</header>


			
			<p class="teaser" itemprop="description">
				From LOFAR dataset to science ready figure
			</p>
			

			<div itemprop="articleSection">
			<h2 id="lofar-solar-data-analysis">LOFAR Solar Data Analysis</h2>

<p>2019 Summer By <strong>Peijin Zhang</strong>
Directed by <strong>Pietro Zucca</strong> and <strong>Sarrvesh Sridhar</strong></p>

<p>LOFAR can produce high spatial resolution (10asec) interferometry
image at 6 Frame per Second. This document shows the reduction process
of the solar imaging and dynamic spectrum data.</p>

<p>All the code mentioned in this page can be found in <a href="https://github.com/Pjer-zhang/LOFAR_Solar">Source code</a></p>

<p>Some of the frequently used functions have been packed into a module : <strong>LofarSun</strong>, a simple demo :  <a href="/static/demo.html">demo</a></p>

<h2 id="calibration">Calibration</h2>

<p>The calibration uses a well known and stable source to convert all the
signals received by different antenna to a same reference level.</p>

<p>This can be done by following the steps below:</p>

<ul>
  <li>Create the source.db file with a sky model of the calibrator</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>makesourcedb <span class="k">in</span><span class="o">=</span>/path/to/TauA.skymodel <span class="nv">out</span><span class="o">=</span>TauA.sourcedb
</code></pre></div></div>

<ul>
  <li>Run auto-weight with NDPPP (Note: this step should be done for both
  sun and the calibrator):</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>NDPPP <span class="nv">msin</span><span class="o">=</span>/path/to/calibrator.MS
<span class="nv">msout</span><span class="o">=</span>/path/to/calibrator-autow.MS
<span class="nv">steps</span><span class="o">=[]</span>

msin.autoweight<span class="o">=</span>True
</code></pre></div></div>

<ul>
  <li>Use the observation of the calibrator to predict the parameters for
  the calculation applied to the solar observation</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>NDPPP <span class="nv">msin</span><span class="o">=</span>/path2/to/calibrator-autow.ms <span class="se">\</span>
<span class="nv">Msout</span><span class="o">=</span><span class="nb">.</span> <span class="se">\</span>
<span class="nv">steps</span><span class="o">=[</span>gaincal] <span class="se">\</span>
gaincal.usebeammodel<span class="o">=</span>True  <span class="se">\</span>
gaincal.solint<span class="o">=</span>4 <span class="se">\</span>
gaincal.sources<span class="o">=</span>TauAGG <span class="se">\</span>
gaincal.sourcedb<span class="o">=</span>TauA.sourcedb <span class="se">\</span>
gaincal.onebeamperpatch<span class="o">=</span>True <span class="se">\</span>
gaincal.caltype<span class="o">=</span>diagonal
</code></pre></div></div>

<ul>
  <li>Apply the parameters predicted by step (3)</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>NDPPP <span class="nv">msin</span><span class="o">=</span>/path2/to/sun-autow.ms <span class="se">\</span>
<span class="nv">msout</span><span class="o">=</span><span class="nb">.</span> <span class="se">\</span>
msin.datacolumn<span class="o">=</span>DATA <span class="se">\</span>
msout.datacolumn<span class="o">=</span>CORR_NO_BEAM <span class="se">\</span>
<span class="nv">steps</span><span class="o">=[</span>applycal] <span class="se">\</span>
applycal.parmdb<span class="o">=</span>/path/to/calibrator-autow.MS/instrument <span class="se">\</span>
applycal.updateweights<span class="o">=</span>True
</code></pre></div></div>

<ul>
  <li>Apply the beam of the calculation for the LOFAR station:</li>
</ul>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>NDPPP <span class="nv">msin</span><span class="o">=</span>sun-autow.MS <span class="se">\</span>
<span class="nv">msout</span><span class="o">=</span><span class="nb">.</span> <span class="se">\</span>
msin.datacolumn<span class="o">=</span>CORR_NO_BEAM <span class="se">\</span>
msout.datacolumn<span class="o">=</span>CORRECTED_DATA <span class="se">\</span>
steps <span class="o">=[</span>applybeam] <span class="se">\</span>
applybeam.updateweights<span class="o">=</span>True
</code></pre></div></div>

<p>The steps (2)-(5) are integrated in the script <strong>auto_sun_calib.py</strong>
to calibrate the MS files in batch.</p>

<p>For the solar interferometry, the calibration is essential. Figure 1
shows the difference between the calibrated and un-calibrated data</p>

<p><img src="/images/media/image1.png" alt="demoimg" />
<img src="/images/media/image2.png" alt="demoimg" /></p>

<p>Figure 1. The image result of calibrated and un-calibrated data</p>

<h2 id="imaging">Imaging</h2>

<p>After the calibration, the produced file [sun-autow.MS] is ready for
imaging, here we use the software [wsclean] to produce the solar radio
image from the visibilities. The full document of wsclean can be found
in this link :
<a href="https://sourceforge.net/p/wsclean/wiki/Home/">[https://sourceforge.net/p/wsclean/wiki/Home/]{.underline}</a></p>

<p>For the solar imaging, we use the following parameters:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wsclean <span class="nt">-j</span> 40 <span class="nt">-mem</span> 30 <span class="nt">-no-reorder</span> <span class="nt">-no-update-model-required</span> <span class="se">\</span>
<span class="nt">-mgain</span> 0.3 <span class="nt">-weight</span> briggs 0 <span class="nt">-size</span> 512 512 <span class="se">\</span>
<span class="nt">-scale</span> 10asec <span class="nt">-pol</span> I <span class="nt">-data-column</span> CORRECTED_DATA <span class="se">\</span>
<span class="nt">-niter</span> 1000 <span class="nt">-intervals-out</span> 1 <span class="nt">-interval</span> 10 11 <span class="se">\</span>
<span class="nt">-name</span> /path/to/prefix <span class="se">\</span>
/path/to/sun-autow.MS
</code></pre></div></div>

<p>Larger iterations and more tweaking with these parameters can help
make a better image. Details about the parameters are introduced in
the imaging brew section.</p>

<h2 id="image-inspection">Image inspection</h2>

<h3 id="cleaned-image">CLEANed image</h3>

<p>Sometimes we need to interact with the data and see how it looks like
immediately after the data reduction. It would be efficiency if we can
plot the data from the shell command and see the image from a pop-up
window.</p>

<p>For general purpose of the fits inspection, one can use display or kvis
command to inspect the image:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>display filename.fits
</code></pre></div></div>

<p>Or:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>module load karma
kvis filename.fits
</code></pre></div></div>

<p>This commands will show you the image without the coordinate:</p>

<p><img src="/images/media/image3.png" alt="demoimg" /></p>

<p><strong>Figure 1.</strong> The image shown in [display]</p>

<p>For solar image after wsclean, one can use displayws.py:
(<strong>deprecated now, see <a href="https://github.com/Pjer-zhang/LOFAR_Solar">LofarSun</a> for detail</strong>)</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python displayws.py <span class="nt">-h</span>
</code></pre></div></div>

<p>displayws.py version 0.01 [Python2]
by Peijin.Zhang 2019</p>

<p>Inspect the LOFAR solar interferometry data produced by wsclean, with
[RA,DEC] transfered to the Heliocentric coordinate.</p>

<p>Parameters:</p>

<p>-t --txt Show the text information of the wsclean fits file</p>

<p>-n --no-plot Do not show plot</p>

<p>-h --help Display this information</p>

<p>-o --out Save the result without display</p>

<p>example:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>displayws.py fname.fits <span class="nt">-t</span> <span class="nt">-n</span>
displayws.py fname.fits
displayws.py fname.fits <span class="nt">-o</span> save.png
</code></pre></div></div>

<p>This script can give us a plot of the radio in the Heliocentric coordinate, with Arc-Second axis, and the time and frequency channel will be shown in the title and legend in the plot, also the beam shape given from the parameters given by the fits header:</p>

<p><strong>[BMAJ]</strong>: The major axis of the beam.</p>

<p><strong>[BMIN]</strong>: The min axis of the beam</p>

<p><strong>[BPA]</strong>: The position angel of the major</p>

<p><img src="/images/media/image4.png" alt="demoimg" /></p>

<p><strong>Figure 2.</strong> Solar interferometry shown with displayws.py</p>

<p>In displayws.py the beam shape experience the same transform as the sun
to the Heliocentric coordinate. And with <strong>–t –n</strong> arguments, one can
see the full content of the fits header.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python displayws.py fits<span class="se">\_</span><span class="nb">test</span><span class="se">\_</span>par/SB028-image.fits <span class="nt">-n</span> <span class="nt">-t</span>
</code></pre></div></div>

<p>output:</p>

<pre><code class="language-txt">[INFO] Do not show the image
[INFO] Show the header of the wsfile
SIMPLE = T / file does conform to FITS standard
BITPIX = -32 / number of bits per data pixel
NAXIS = 4 / number of data axes
NAXIS1 = 512 / length of data axis 1
...
... //lots of information text
WSCTIMES= 27250.
WSCVWSUM= 0.0770765469463797
HISTORY wsclean -j 40 -mem 30 -no-reorder -no-update-model-required -mgain 0.5 -
HISTORY weight briggs 0 -size 512 512 -scale 10.5469asec -pol I -data-column COR
HISTORY RECTED\_DATA -niter 500 -intervals-out 1 -interval 27250 27255 -fit-beam
HISTORY -make-psf -name /data/scratch/zhang/fits\_test\_par/SB028 /data/scratch/zh
HISTORY ang/MS/L701913\_SAP000\_SB028\_autow\_uv.MS
</code></pre>

<p>I also recommend the Jupyter Notebook for the data interaction, which
can show image inline the script.</p>

<h3 id="inspect-the-residual-image">Inspect the Residual Image</h3>

<p>For a CLEANed image, one should always check the residual image, if the
residual image is flat and the positive and negative values are randomly
distributed. One can judge the quality of a CLEANed image by comparing
the peak values of the CLEANed image and its residual image:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python displayws.py /path/to/XXX-residual.fits
</code></pre></div></div>

<p>A good residual of solar image looks like:</p>

<p><img src="/images/media/image5.png" alt="demoimg" /></p>

<p>Figure 3. The residual image</p>

<h3 id="inspect-the-uv-coverage">Inspect the UV coverage</h3>

<p>The UV coverage information can be saved by wsclean by append
<strong>–save-uv</strong> parameter to the wsclean command. And one can inspect the
UV coverage using the previous script:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>python displayws.py /path/to/XXX-uv-real.fits
</code></pre></div></div>

<p>If there is ‘–uv’ string in the input file name, it will show the UV
coverage in wavenumber space. A sample UV coverage looks like:</p>

<p><img src="/images/media/image6.png" alt="demoimg" />
Figure 4. The UV coverage</p>

<h3 id="module-lofarsun">Module LofarSun</h3>

<p>For scientific use, the module LofarSun can provide the <strong>Brightness temperature (Tb)</strong> map of the sun, and it is quite simple:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># import everything we need
</span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">from</span> <span class="nn">lofarSun.lofarData</span> <span class="kn">import</span> <span class="n">LofarDataBF</span><span class="p">,</span> <span class="n">LofarDataCleaned</span>

<span class="c1"># process interferometry data
</span><span class="n">lofar_cleaned</span> <span class="o">=</span> <span class="n">LofarDataCleaned</span><span class="p">()</span>
<span class="n">lofar_cleaned</span><span class="o">.</span><span class="n">load_fits</span><span class="p">(</span><span class="s">'SB058-t0032-image.fits'</span><span class="p">)</span>
<span class="n">lofar_cleaned</span><span class="o">.</span><span class="n">plot_image</span><span class="p">()</span>
</code></pre></div></div>

<p>which gives you:</p>

<p><img src="/images/media/lofarsungit.png" alt="demoimg" /></p>

<h2 id="image-brewing">Image Brewing</h2>

<p>Wsclean is a complex and powerful software, it can produce amazing image
when the parameters are set properly, in this section, we introduce a
few parameters that may influence the image result.</p>

<h3 id="scales">Scales</h3>

<p>The <strong>–size</strong> and <strong>–scale</strong> argument controls the dimensions of the
produced image, <strong>-size</strong> determines the pixel size (2 parameters: width
and height) of the produced image. <strong>–scale</strong> determines the angular
with of a pixel.</p>

<p>The wsclean users should be aware that the image with different size can
result in totally different image. The following is an example of solar
imaging with different <strong>–size</strong></p>

<p>Configuration of image (1)</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wsclean <span class="nt">-j</span> 40 <span class="nt">-mem</span> 80 <span class="nt">-no-reorder</span> <span class="nt">-no-update-model-required</span><span class="se">\</span>
<span class="nt">-mgain</span> 0.7 <span class="nt">-weight</span> briggs 0 <span class="nt">-size</span> 1000 1000 <span class="se">\</span>
<span class="nt">-scale</span> 3asec <span class="nt">-pol</span> I <span class="nt">-auto-mask</span> 3 <span class="se">\</span>
<span class="nt">-auto-threshold</span> 0.3 <span class="nt">-data-column</span> CORRECTED_DATA <span class="se">\</span>
<span class="nt">-niter</span> 1000 <span class="nt">-intervals-out</span> 1 <span class="nt">-interval</span> 27250 27255 <span class="se">\</span>
<span class="nt">-fit-beam</span> <span class="nt">-make-psf</span> <span class="se">\</span>
<span class="nt">-name</span> /path/to/output/name /path/to/input.MS
</code></pre></div></div>
<p>Configuration of image (2)</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wsclean <span class="nt">-j</span> 40 <span class="nt">-mem</span> 80 <span class="nt">-no-reorder</span> <span class="nt">-no-update-model-required</span><span class="se">\</span>
<span class="nt">-mgain</span> 0.7 <span class="nt">-weight</span> briggs 0 <span class="nt">-size</span> 6000 6000 <span class="se">\</span>
<span class="nt">-scale</span> 3asec <span class="nt">-pol</span> I <span class="nt">-auto-mask</span> 3 <span class="se">\</span>
<span class="nt">-auto-threshold</span> 0.3 <span class="nt">-data-column</span> CORRECTED_DATA <span class="se">\</span>
<span class="nt">-niter</span> 1000 <span class="nt">-intervals-out</span> 1 <span class="nt">-interval</span> 27250 27255 <span class="se">\</span>
<span class="nt">-fit-beam</span> <span class="nt">-make-psf</span> <span class="se">\</span>
<span class="nt">-name</span> /path/to/output/name /path/to/input.MS
</code></pre></div></div>

<p><img src="/images/media/image7.png" alt="demoimg" />
<img src="/images/media/image8.png" alt="demoimg" /></p>

<p><strong>Figure 3.</strong> The comparing of imaging result with diffrerent pixel size
argument.</p>

<p>From Figure 3 we can clearly see the difference. Both of the two image
in Figure 3 have the Field of View (FOV) lager than the sun, which
contains a strong source. A too large FOV may introduce the signal from
side-lobe</p>

<p>The argument <strong>–scale</strong> means the resolution, so this number should be
“The smaller, the better”. While, as mentioned previously, better image
demands larger FOV. Thus, we should balance between the resolution and
FOV. In this situation, the best choice is using as large FOV as
possible with enough resolution. The enough resolution for –scale is
usually 0.2*beamsize.</p>

<h3 id="iteration-steps">Iteration steps</h3>

<p>The number of iteration steps determines how many times the PSF fits
image, we can either use –niter to manually set the iteration step or
use –auto-threshold to let wsclean decide when to stop. The parameter
–niter is an “the more the better” parameter.</p>

<p><img src="/images/media/image9.png" alt="demoimg" />
 <img src="/images/media/image10.png" alt="demoimg" /></p>

<p>Figure 5. Comparing between large and small number of iteration</p>

<p>Small value for <strong>–niter</strong> will give you the fuzzy image with a
 correct peak value (if there is peak in the image). While, more
 iteration steps will give you the structure of the source.</p>

<h3 id="multiscale">Multiscale</h3>

<p>Wsclean assume the sources to be point source for default configuration,
this works for most of the astronomy work. The sun itself is a big
(960arcsec) extended source, and the active region is also non-point
like. Thus, the extended source needs to be considered for the solar
imaging. The parameter <strong>–multiscale</strong> is used to take extended source
into consideration.</p>

<p>The following is an example of imaging with and without –multiscale.</p>

<p><img src="/images/media/image11.png" alt="demoimg" />
 <img src="/images/media/image12.png" alt="demoimg" /></p>

<p>Figure 6. The residual map of the imaging with and without multiscale</p>

<p>Corresponding wsclean command is:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>wsclean <span class="nt">-j</span> 40 <span class="nt">-mem</span> 90 <span class="nt">-no-reorder</span> <span class="nt">-no-update-model-required</span> <span class="se">\</span>
<span class="nt">-mgain</span> 0.8 <span class="nt">-weight</span> briggs 0 <span class="nt">-size</span> 1024 1024 <span class="se">\</span>
<span class="nt">-scale</span> 4asec <span class="nt">-pol</span> I <span class="nt">-auto-mask</span> 6 <span class="nt">-multiscale</span> <span class="se">\</span>
<span class="nt">-auto-threshold</span> 2 <span class="nt">-data-column</span> CORRECTED_DATA <span class="se">\</span>
<span class="nt">-niter</span> 2000 <span class="nt">-intervals-out</span> 1 <span class="nt">-interval</span> 27250 27255 <span class="se">\</span>
<span class="nt">-fit-beam</span> <span class="nt">-make-psf</span> <span class="nt">-name</span> <span class="se">\</span>
/data/scratch/zhang/fits_test_par/SB048testx <span class="se">\</span>
/data/scratch/zhang/MS/L701913_SAP000_SB048_autow_uv.MS
</code></pre></div></div>

<p>The residual with default configurations (no multiscal) show large
 patterns with large intensity, while the residual with multiscale is
 flat and randomly distributed.</p>

<p>Note that the multiscale parameter is extremely time comsuming, for my
 case, it takes about 50x times of calculation resource to generate a
 image.</p>

<h2 id="abbreviations">Abbreviations</h2>

<p><strong>FOV</strong> field of view</p>

<p><strong>FPS</strong> frame per second</p>

<p><strong>PSF</strong> Point source spread</p>

<h2 id="more">More</h2>

<p>&lt;<a href="https://support.astron.nl/LOFARBeamformedCookbook/">Beamformed Cookbook</a>&gt; &lt;<a href="https://support.astron.nl/LOFARImagingCookbook/">Interferometric Imaging cookbook</a>&gt;</p>

			</div>

			

			
		</article>
	</div><!-- /.medium-8.columns -->


	


	
</div><!-- /.row -->


	
	    <div id="up-to-top" class="row">
      <div class="small-12 columns" style="text-align: right;">
        <a class="iconfont" href="#top-of-page">&#xf108;</a>
      </div><!-- /.small-12.columns -->
    </div><!-- /.row -->


    <footer id="footer-content" class="bg-grau">
      <div id="footer">
        <div class="row">
          <div class="medium-6 large-5 columns">
            <h5 class="shadow-black">About This Site</h5>

            <p class="shadow-black">
              The KSP “Solar Physics and Space Weather with LOFAR” intends to use LOFAR for solar and Space Weather studies. The tasks include the definition of solar observing modes, the development of the necessary software and making the observations available to the scientific community.
              <a href="https://lofarsw.github.io/info/">More ›</a>
            </p>
          </div><!-- /.large-6.columns -->


          <div class="small-6 medium-3 large-3 large-offset-1 columns">
            
              
                <h5 class="shadow-black">Services</h5>
              
            
              
            
              
            
              
            
              
            

              <ul class="no-bullet shadow-black">
              
                
                  <li >
                    <a href="https://lofarsw.github.io"  title=""></a>
                  </li>
              
                
                  <li >
                    <a href="https://lofarsw.github.io/contact/"  title="Contact">Contact</a>
                  </li>
              
                
                  <li >
                    <a href="https://lofarsw.github.io/feed.xml"  title="Subscribe to RSS Feed">RSS</a>
                  </li>
              
                
                  <li >
                    <a href="https://lofarsw.github.io/atom.xml"  title="Subscribe to Atom Feed">Atom</a>
                  </li>
              
                
                  <li >
                    <a href="https://lofarsw.github.io/sitemap.xml"  title="Sitemap for Google Webmaster Tools">sitemap.xml</a>
                  </li>
              
              </ul>
          </div><!-- /.large-4.columns -->


          <div class="small-6 medium-3 large-3 columns">
            
              
                <h5 class="shadow-black">LINK To</h5>
              
            
              
            

            <ul class="no-bullet shadow-black">
            
              
                <li >
                  <a href="https://lofarsw.github.io"  title=""></a>
                </li>
            
              
                <li >
                  <a href="http://astron.nl/" target="_blank"  title="ASTRON">ASTRON</a>
                </li>
            
            </ul>
          </div><!-- /.large-3.columns -->
        </div><!-- /.row -->

      </div><!-- /#footer -->


      <div id="subfooter">
        <nav class="row">
          <section id="subfooter-left" class="small-12 medium-6 columns credits">
            <p>Created with &hearts; by <a href="https://pjchang.cc/">Peijin Zhang</a> and <a href="#">Pietro Zucca</a> with <a href="http://jekyllrb.com/" target="_blank">Jekyll</a> based on <a href="http://phlow.github.io/feeling-responsive/">Feeling Responsive</a>.</p>
          </section>

          <section id="subfooter-right" class="small-12 medium-6 columns">
            <ul class="inline-list social-icons">
            
            </ul>
          </section>
        </nav>
      </div><!-- /#subfooter -->
    </footer>

	

	


<script src="https://lofarsw.github.io/assets/js/javascript.min.js"></script>



<script>
    $("#masthead").backstretch("/images/banner.png", {fade: 700});
    $("#masthead-with-text").backstretch("/images/banner.png", {fade: 700});
</script>












</body>
</html>

